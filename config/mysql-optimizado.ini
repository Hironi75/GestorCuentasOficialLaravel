# Configuración optimizada para MySQL en XAMPP
# Para prevenir corrupción de base de datos
# Copiar este archivo a: C:\xampp\mysql\bin\my.ini (hacer backup del original)

[mysqld]
# Motor de almacenamiento
default-storage-engine=InnoDB

# Prevenir corrupción de datos
innodb_flush_log_at_trx_commit=1
innodb_file_per_table=1
innodb_buffer_pool_size=256M

# Manejo de transacciones
transaction-isolation=READ-COMMITTED
innodb_lock_wait_timeout=50

# Logs seguros
sync_binlog=1
innodb_doublewrite=1

# Encoding UTF-8
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# Timeouts apropiados
wait_timeout=600
interactive_timeout=600
connect_timeout=10

# Cache de queries
query_cache_size=0
query_cache_type=0

# Límites
max_connections=100
max_allowed_packet=64M

# Prevenir deadlocks
innodb_deadlock_detect=ON

[client]
default-character-set=utf8mb4
